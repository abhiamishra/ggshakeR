<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="ggshakeR">
<title>Guide to Pitch Plots • ggshakeR</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.1.0/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.1.0/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet">
<meta property="og:title" content="Guide to Pitch Plots">
<meta property="og:description" content="ggshakeR">
<meta property="og:image" content="https://abhiamishra.github.io/ggshakeR/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-inverse navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">ggshakeR</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.2.0.9000</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../index.html">Home</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-guides">Guides</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-guides">
    <a class="dropdown-item" href="../articles/Guide_to_EPV.html">Guide to EPV</a>
    <a class="dropdown-item" href="../articles/Guide_to_Exp_Threat.html">Guide to Expected Threat</a>
    <a class="dropdown-item" href="../articles/Guide_to_Pitch_Plots.html">Guide to Pitch Plots</a>
    <a class="dropdown-item" href="../articles/Guide_to_PizzaPlots.html">Guide to Pizza Plots</a>
    <a class="dropdown-item" href="../articles/Guide_to_Version_0-2-0.html">Guide to Version 0.2.0</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">News</a>
</li>
<li class="nav-item">
  <a class="external-link nav-link" href="https://ggshaker.github.io/">Library</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/abhiamishra/ggshakeR/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Guide to Pitch Plots</h1>
                        <h4 data-toc-skip class="author">Abhishek A.
Mishra</h4>
            
            <h4 data-toc-skip class="date">2022-10-30</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/abhiamishra/ggshakeR/blob/HEAD/vignettes/Guide_to_Pitch_Plots.Rmd" class="external-link"><code>vignettes/Guide_to_Pitch_Plots.Rmd</code></a></small>
      <div class="d-none name"><code>Guide_to_Pitch_Plots.Rmd</code></div>
    </div>

    
    
<p>This is the guide for using Pitch Plots in <code>ggshakeR</code>.</p>
<p>These plots aim to plot events on a pitch hence the name…Pitch
Plots!</p>
<p>Currently, <code>ggshakeR</code> houses 7 Pitch Plots:</p>
<ul>
<li><code><a href="../reference/plot_pass.html">plot_pass()</a></code></li>
<li><code><a href="../reference/plot_heatmap.html">plot_heatmap()</a></code></li>
<li><code><a href="../reference/plot_sonar.html">plot_sonar()</a></code></li>
<li><code><a href="../reference/plot_passflow.html">plot_passflow()</a></code></li>
<li><code><a href="../reference/plot_shot.html">plot_shot()</a></code></li>
<li><code><a href="../reference/plot_convexhull.html">plot_convexhull()</a></code></li>
<li><code><a href="../reference/plot_voronoi.html">plot_voronoi()</a></code></li>
<li><code><a href="../reference/plot_passnet.html">plot_passnet()</a></code></li>
</ul>
<p>Let’s learn simple guides on how to use them!</p>
<div class="section level2">
<h2 id="understat">Understat<a class="anchor" aria-label="anchor" href="#understat"></a>
</h2>
<div class="section level3">
<h3 id="plot_shot">
<code>plot_shot()</code><a class="anchor" aria-label="anchor" href="#plot_shot"></a>
</h3>
<p>Characteristics:</p>
<ul>
<li>Only works with <a href="https://understat.com/" class="external-link">Understat</a>
data</li>
<li>Has three types: hexbin, density, or point (default)</li>
</ul>
<p>The easiest Pitch Plot function to use! To use this function, which
<em>only works with Understat data</em>, we need the <a href="https://github.com/ewenme/understatr" class="external-link">understatr package</a>.</p>
<p>Once you have installed the package, put the package in your work
session by writing:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://ewenme.github.io/understatr" class="external-link">understatr</a></span><span class="op">)</span></code></pre></div>
<p>We will use the understatr package to get the data for
<code><a href="../reference/plot_shot.html">plot_shot()</a></code>. Browse through the understatr package to get
their data. As a sanity check, make sure the dataframe has columns with
these names:</p>
<ul>
<li>
<code>X</code> (not x)</li>
<li>
<code>Y</code> (not y)</li>
<li><code>xG</code></li>
<li><code>result</code></li>
<li><code>name</code></li>
</ul>
<p>Here, I am going to get Mohammed Salah’s data. To learn more about
how to get data, read <a href="https://sagnikdas1.medium.com/tabguide-1-making-shot-maps-1c030f08393e" class="external-link">Nandy’s
excellent guide</a>.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">shot_data</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://ewenme.github.io/understatr/reference/get_player_shots.html" class="external-link">get_player_shots</a></span><span class="op">(</span>player_id <span class="op">=</span> <span class="fl">1250</span><span class="op">)</span> <span class="co"># Salah's `player_id` on Understat is `1250`</span></code></pre></div>
<p>After that, simply write and execute the following code to get a
beautiful shot map:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">plot</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/plot_shot.html">plot_shot</a></span><span class="op">(</span><span class="va">data</span>, type <span class="op">=</span> <span class="st">"density"</span><span class="op">)</span>

<span class="va">plot</span></code></pre></div>
<div class="figure">
<img src="../reference/figures/plot_shot.png" style="width:80.0%" alt=""><p class="caption">plot_shot() of Mohammed Salah</p>
</div>
<p>An additional feature is provided through a couple of other arguments
within the function in the form of <strong>highlight_goals</strong> and
<strong>average_location</strong>. Use them by toggling between
<em>TRUE</em> and <em>FALSE</em>.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">plot</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/plot_shot.html">plot_shot</a></span><span class="op">(</span><span class="va">shot_data</span>, highlight_goals <span class="op">=</span> <span class="cn">TRUE</span>, average_location <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span>
<span class="va">plot</span></code></pre></div>
<p>Note that, you can write <em>“hexbin”</em>, <em>“density”</em>, and
<em>“point”</em> to get three different types of shot maps. However, the
<strong>highlight_goals</strong> parameter only works for point shot
maps. Try it out!</p>
</div>
</div>
<div class="section level2">
<h2 id="opta-statsbomb">Opta &amp; StatsBomb<a class="anchor" aria-label="anchor" href="#opta-statsbomb"></a>
</h2>
<div class="section level3">
<h3 id="plot_sonar-plot_heatmap-plot_pass-plot_passflow">
<code>plot_sonar()</code>, <code>plot_heatmap()</code>,
<code>plot_pass()</code> &amp; <code>plot_passflow()</code><a class="anchor" aria-label="anchor" href="#plot_sonar-plot_heatmap-plot_pass-plot_passflow"></a>
</h3>
<p>These three functions are quite similar in what they require.</p>
<ul>
<li>
<code><a href="../reference/plot_sonar.html">plot_sonar()</a></code> gives you a pass sonar</li>
<li>
<code><a href="../reference/plot_heatmap.html">plot_heatmap()</a></code> gives you a heat map on the pitch</li>
<li>
<code><a href="../reference/plot_pass.html">plot_pass()</a></code> gives you all the passes on the pitch</li>
<li>
<code><a href="../reference/plot_passflow.html">plot_passflow()</a></code> gives you a pass flow map on the
pitch</li>
</ul>
<p>Here are some key things to know:</p>
<ul>
<li><p><code><a href="../reference/plot_sonar.html">plot_sonar()</a></code>, <code><a href="../reference/plot_pass.html">plot_pass()</a></code> and
<code><a href="../reference/plot_passflow.html">plot_passflow()</a></code> expect passing data</p></li>
<li><p>All three functions require the data to have at minimum four
columns named: <strong>x, y, finalX, finalY</strong></p></li>
<li><p>All three functions work on either Opta or Statsbomb
data</p></li>
<li>
<p>All three functions need a minimum of 4 columns named:</p>
<ul>
<li>
<code>x</code> (indicates starting x location)</li>
<li>
<code>y</code> (indicates starting y location)</li>
<li>
<code>finalX</code> (indicates ending x location for passes)</li>
<li>
<code>finalY</code> (indicates ending y location for passes)</li>
</ul>
</li>
</ul>
<p>Let’s first get some data! You can either import you data or use <a href="https://github.com/statsbomb/open-data" class="external-link">Statsbomb’s open free
dataset</a></p>
<p>In this example, I’ll be using StatsBomb’s Messi Data for La Liga
2014/15:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">StatsBombR</span><span class="op">)</span>

<span class="va">Comp</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/StatsBombR/man/FreeCompetitions.html" class="external-link">FreeCompetitions</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">competition_id</span> <span class="op">==</span> <span class="fl">11</span> <span class="op">&amp;</span> <span class="va">season_name</span> <span class="op">==</span> <span class="st">"2014/2015"</span><span class="op">)</span>
<span class="va">Matches</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/StatsBombR/man/FreeMatches.html" class="external-link">FreeMatches</a></span><span class="op">(</span><span class="va">Comp</span><span class="op">)</span>
<span class="va">StatsBombData</span> <span class="op">&lt;-</span> <span class="fu">free_allevents</span><span class="op">(</span>MatchesDF <span class="op">=</span> <span class="va">Matches</span>, Parallel <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>
<span class="va">plotting_data</span>  <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/StatsBombR/man/allclean.html" class="external-link">allclean</a></span><span class="op">(</span><span class="va">StatsBombData</span><span class="op">)</span></code></pre></div>
<p>Before plotting, I am going to rename my columns:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">plotting_data</span> <span class="op">&lt;-</span> <span class="va">plotting_data</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/rename.html" class="external-link">rename</a></span><span class="op">(</span><span class="st">"x"</span> <span class="op">=</span> <span class="st">"location.x"</span>,
         <span class="st">"y"</span> <span class="op">=</span> <span class="st">"location.y"</span>,
         <span class="st">"finalX"</span> <span class="op">=</span> <span class="st">"pass.end_location.x"</span>,
         <span class="st">"finalY"</span> <span class="op">=</span> <span class="st">"pass.end_location.y"</span><span class="op">)</span></code></pre></div>
<p>Sweet, let’s plot!</p>
<div class="section level4">
<h4 id="plot_heatmap">
<code>plot_heatmap()</code><a class="anchor" aria-label="anchor" href="#plot_heatmap"></a>
</h4>
<p>For the heat map, we simply select our columns and plot!
<strong>Type</strong> options include <em>bin</em>, <em>hex</em>,
<em>density</em> and <em>jdp</em>. Note that we don’t specify
<strong>data_type</strong> since the default is set to “statsbomb”, so
we can simply write this:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">heat_data</span> <span class="op">&lt;-</span> <span class="va">plotting_data</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">x</span>, <span class="va">y</span><span class="op">)</span>

<span class="va">heatPlot</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/plot_heatmap.html">plot_heatmap</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">heat_data</span>, type <span class="op">=</span> <span class="st">"bin"</span><span class="op">)</span>

<span class="va">heatPlot</span></code></pre></div>
<div class="figure">
<img src="../reference/figures/plot_heatmap.png" style="width:80.0%" alt=""><p class="caption">plot_heatmap() of all of La Liga’s events in
2014/15</p>
</div>
</div>
<div class="section level4">
<h4 id="plot_sonar">
<code>plot_sonar()</code><a class="anchor" aria-label="anchor" href="#plot_sonar"></a>
</h4>
<p>For the pass sonar, we’re going to a bit more data cleaning. I don’t
want everybody’s passing sonar - that’s redundant!</p>
<p>For our purposes, I want Jordi Alba’s passing sonar. First, let me
get all passes from Jordi Alba:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">plotting_data_alba</span>  <span class="op">&lt;-</span> <span class="va">plotting_data</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">type.name</span> <span class="op">==</span> <span class="st">"Pass"</span> <span class="op">&amp;</span> <span class="va">team.name</span> <span class="op">==</span> <span class="st">"Barcelona"</span> <span class="op">&amp;</span> <span class="va">player.name</span> <span class="op">==</span> <span class="st">"Jordi Alba Ramos"</span><span class="op">)</span></code></pre></div>
<p>Now I can construct a pass sonar! Default <strong>data_type</strong>
is set to <em>“statsbomb”</em>, so here we can simply write:</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">sonarPlot</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/plot_sonar.html">plot_sonar</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">plotting_data_alba</span><span class="op">)</span>

<span class="va">sonarPlot</span></code></pre></div>
<div class="figure">
<img src="../reference/figures/plot_sonar.png" style="width:80.0%" alt=""><p class="caption">plot_sonar() of all of Jordi Alba’s passes from
2014/15</p>
</div>
</div>
<div class="section level4">
<h4 id="plot_pass">
<code>plot_pass()</code><a class="anchor" aria-label="anchor" href="#plot_pass"></a>
</h4>
<p>We can create a pass map of all of Jordi Alba’s passes during a
particular match by using the <code><a href="../reference/plot_pass.html">plot_pass()</a></code> function.</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">plotting_data_alba_single</span> <span class="op">&lt;-</span> <span class="va">plotting_data_alba</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">match_id</span> <span class="op">==</span> <span class="fl">70264</span><span class="op">)</span>

<span class="va">passPlot</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/plot_pass.html">plot_pass</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">plotting_data_alba_single</span>, 
                      progressive_pass <span class="op">=</span> <span class="cn">TRUE</span>, type <span class="op">=</span> <span class="st">"all"</span><span class="op">)</span>
<span class="va">passPlot</span></code></pre></div>
<div class="figure">
<img src="../reference/figures/plot_pass.png" style="width:80.0%" alt=""><p class="caption">plot_pass() of all of Jordi Alba’s passes from a
match in 2014/15</p>
</div>
</div>
<div class="section level4">
<h4 id="plot_passflow">
<code>plot_passflow()</code><a class="anchor" aria-label="anchor" href="#plot_passflow"></a>
</h4>
<p>Since we already have Jordi Alba’s passes, we can just construct the
pass flow like this:</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">passflowPlot</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/plot_passflow.html">plot_passflow</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">plotting_data_alba</span><span class="op">)</span>

<span class="va">passflowPlot</span></code></pre></div>
<div class="figure">
<img src="../reference/figures/plot_passflow.png" style="width:80.0%" alt=""><p class="caption">plot_passflow() of all of Jordi Alba’s passes from
2014/15</p>
</div>
</div>
</div>
<div class="section level3">
<h3 id="plot_convexhull">
<code>plot_convexhull()</code><a class="anchor" aria-label="anchor" href="#plot_convexhull"></a>
</h3>
<p>This function allows the user to use event data to plot the convex
hulls of multiple or a single player. It works on both Opta and
StatsBomb data and requires the following columns:</p>
<ul>
<li><code>x</code></li>
<li><code>y</code></li>
<li><code>finalX</code></li>
<li><code>finalY</code></li>
<li>
<code>playerId</code> (Player name’s)</li>
</ul>
<p>Let us plot using the data set we already have.</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/unique.html" class="external-link">unique</a></span><span class="op">(</span><span class="va">plotting_data</span><span class="op">$</span><span class="va">match_id</span><span class="op">)</span> <span class="co"># Find all match ID's from the data set</span>

<span class="va">convexPlot</span> <span class="op">&lt;-</span> <span class="va">plotting_data</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">match_id</span> <span class="op">==</span> <span class="fl">266631</span>,
         <span class="va">team.name</span> <span class="op">==</span> <span class="st">"Barcelona"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span>
  <span class="fu"><a href="../reference/plot_convexhull.html">plot_convexhull</a></span><span class="op">(</span><span class="op">)</span>

<span class="va">convexPlot</span></code></pre></div>
<div class="figure">
<img src="../reference/figures/Convexhull.png" style="width:80.0%" alt=""><p class="caption">plot_convexhull() of FC Barcelona players from a
match</p>
</div>
<p>Note that we do not need to pass any parameters to the function here
as the data set has already been specified and the default
<strong>data_type</strong> is set to <em>“statsbomb”</em>. If using Opta
data, set the <strong>data_type</strong> as such. Manipulate the data
set as per your needs and use-case. You can also plot a single player
convex hull by filtering for the specific name in the pipe before
applying the function. You can also alter the title and colors as you
wish by using the relevant parameters.</p>
<p>Here is an example:</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">convexPlot</span> <span class="op">&lt;-</span> <span class="va">plotting_data</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">match_id</span> <span class="op">==</span> <span class="fl">266631</span>,
         <span class="va">player.name</span> <span class="op">==</span> <span class="st">"Jordi Alba Ramos"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span>
  <span class="fu"><a href="../reference/plot_convexhull.html">plot_convexhull</a></span><span class="op">(</span>color <span class="op">=</span> <span class="st">"#41ab5d"</span>, title <span class="op">=</span> <span class="st">"Jordi Alba Convex Hull"</span><span class="op">)</span>

<span class="va">convexPlot</span></code></pre></div>
<div class="figure">
<img src="../reference/figures/Convexhull_JordiAlba.png" style="width:80.0%" alt=""><p class="caption">plot_convexhull() of all of Jordi Alba’s passes from
a match</p>
</div>
</div>
<div class="section level3">
<h3 id="plot_voronoi">
<code>plot_voronoi()</code><a class="anchor" aria-label="anchor" href="#plot_voronoi"></a>
</h3>
<p>This function allows the user to use event data to plot the voronoi
plot of a set of points. It works on both Opta and StatsBomb data and
requires the following columns:</p>
<ul>
<li><code>x</code></li>
<li><code>y</code></li>
</ul>
<p>Let us plot using the data set we already have. First, we’ll get a
summarized data set of players and their mean positions.</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">finalData</span> <span class="op">&lt;-</span> <span class="va">plotting_data</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">team.name</span> <span class="op">==</span> <span class="st">"Barcelona"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">group_by</a></span><span class="op">(</span><span class="va">player.name</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise_all.html" class="external-link">summarise_at</a></span><span class="op">(</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/vars.html" class="external-link">vars</a></span><span class="op">(</span><span class="va">x</span>, <span class="va">y</span>, <span class="va">minute</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>name <span class="op">=</span> <span class="va">mean</span><span class="op">)</span>, na.rm <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span>
  <span class="fu"><a href="https://rdrr.io/r/stats/na.fail.html" class="external-link">na.omit</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/rename.html" class="external-link">rename</a></span><span class="op">(</span><span class="st">"x"</span> <span class="op">=</span> <span class="st">"x_name"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/rename.html" class="external-link">rename</a></span><span class="op">(</span><span class="st">"y"</span> <span class="op">=</span> <span class="st">"y_name"</span><span class="op">)</span></code></pre></div>
<p>After that, we can simply use the voronoi plot function:</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">plotVoronoi</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/plot_voronoi.html">plot_voronoi</a></span><span class="op">(</span><span class="va">finalData</span><span class="op">)</span>
<span class="va">plotVoronoi</span></code></pre></div>
<div class="figure">
<img src="../reference/figures/plot_voronoi.png" style="width:80.0%" alt=""><p class="caption">plot_voronoi() of FC Barcelona players and their mean
positions</p>
</div>
<p>A note to remember, the voronoi plot works <em>best</em> when you
have a summarized set of points.</p>
<p>For example, to see something like all of the start locations of a
player’s passes, you would use convexhull() while to see how the team’s
mean position for each player, you would use voronoi()</p>
<p>Note that we do not need to pass any parameters to the function here
as the data set has already been specified and the default
<strong>data_type</strong> is set to <em>“statsbomb”</em>. If using Opta
data, set the <strong>data_type</strong> as such.</p>
<p>Manipulate the data set as per your needs and use-case. You can also
fill the voronoi plots based on the values. You will need the fill value
as another column. As usual, you can use piping to apply the function
directly all in one line.</p>
<p>As an example, we will show EPV values calculated through
<code><a href="../reference/calculate_epv.html">calculate_epv()</a></code>.</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">threatData</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/calculate_epv.html">calculate_epv</a></span><span class="op">(</span><span class="va">plotting_data</span><span class="op">)</span></code></pre></div>
<p>Once we have that, we will repeat the same code as before with a
small change:</p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">finalData</span> <span class="op">&lt;-</span> <span class="va">threatData</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">team.name</span> <span class="op">==</span> <span class="st">"Barcelona"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">group_by</a></span><span class="op">(</span><span class="va">player.name</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">EPVStart</span> <span class="op">!=</span> <span class="op">-</span><span class="fl">1</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="co">#Getting rid of -1 as that as how we identify null values</span>
  <span class="co">#We get the mean and sum of these three columns</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise_all.html" class="external-link">summarise_at</a></span><span class="op">(</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/vars.html" class="external-link">vars</a></span><span class="op">(</span><span class="va">x</span>, <span class="va">y</span>, <span class="va">EPVStart</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>name <span class="op">=</span> <span class="va">mean</span>, <span class="va">sum</span><span class="op">)</span>, na.rm <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span>
  <span class="fu"><a href="https://rdrr.io/r/stats/na.fail.html" class="external-link">na.omit</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/rename.html" class="external-link">rename</a></span><span class="op">(</span><span class="st">"x"</span> <span class="op">=</span> <span class="st">"x_name"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/rename.html" class="external-link">rename</a></span><span class="op">(</span><span class="st">"y"</span> <span class="op">=</span> <span class="st">"y_name"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/rename.html" class="external-link">rename</a></span><span class="op">(</span><span class="st">"EPV_Start"</span> <span class="op">=</span>  <span class="st">"EPVStart_fn1"</span><span class="op">)</span> <span class="co">#Renaming the relevant columns</span>

<span class="co">#Plot voronoi plot</span>

<span class="va">plotVoronoi</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/plot_voronoi.html">plot_voronoi</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">finalData</span>, 
                            fill <span class="op">=</span> <span class="st">"EPV_Start"</span>, 
                            title <span class="op">=</span> <span class="st">"Barcelona Voronoi Diagram"</span><span class="op">)</span>
<span class="va">plotVoronoi</span></code></pre></div>
<div class="figure">
<img src="../reference/figures/plot_voronoi_fill.png" style="width:80.0%" alt=""><p class="caption">plot_voronoi() of FC Barcelona players and their mean
positions with EPV</p>
</div>
</div>
<div class="section level3">
<h3 id="plot_passnet">
<code>plot_passnet()</code><a class="anchor" aria-label="anchor" href="#plot_passnet"></a>
</h3>
<p>This function allows users to plot pass networks of a team in a
particular match using event data from StatsBomb and Opta. Here we will
be demonstrating how to use this function with both data types.</p>
<div class="section level4">
<h4 id="statsbomb">StatsBomb<a class="anchor" aria-label="anchor" href="#statsbomb"></a>
</h4>
<p>Plotting a pass network with StatsBomb data is pretty simple. All you
need is a standard StatsBomb data set with the 4 coordinate columns
being renamed to <code>x</code>, <code>y</code>, <code>finalX</code> and
<code>finalY</code>, in line with what we have done for all other
functions so far. We select a specific match and then plot away!</p>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/unique.html" class="external-link">unique</a></span><span class="op">(</span><span class="va">plotting_data</span><span class="op">$</span><span class="va">match_id</span><span class="op">)</span> <span class="co"># Find all match ID's from the data set</span>

<span class="va">passnetPlot</span> <span class="op">&lt;-</span> <span class="va">plotting_data</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">match_id</span> <span class="op">==</span> <span class="fl">266631</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span>
  <span class="fu"><a href="../reference/plot_passnet.html">plot_passnet</a></span><span class="op">(</span>team_name <span class="op">=</span> <span class="st">"Barcelona"</span><span class="op">)</span>

<span class="va">passnetPlot</span></code></pre></div>
<div class="figure">
<img src="../reference/figures/SB_Passnet.png" style="width:80.0%" alt=""><p class="caption">plot_passnet() of FC Barcelona in a match</p>
</div>
<p><strong>team_name</strong> is the one parameter that needs to be used
here, as the all other parameters have been set to their default. Work
with different colors using the <strong>scale_color</strong> parameter,
different stats using <strong>scale_stat</strong> and alter the subtitle
with <strong>subtitle</strong> if you wish to do so!</p>
</div>
<div class="section level4">
<h4 id="opta">Opta<a class="anchor" aria-label="anchor" href="#opta"></a>
</h4>
<p>Using <code><a href="../reference/plot_passnet.html">plot_passnet()</a></code> with Opta data is a bit more
complicated. But fear not! We will be guiding you through the entire
process so that you get the hang of it. Firstly you need an Opta data
set. We created a data set to perfectly mimic an Opta data set and it is
available within the package for your use. Call it by running:</p>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">optadata</span> <span class="op">&lt;-</span> <span class="fu">ggshakeR</span><span class="fu">::</span><span class="va"><a href="../reference/SampleEventData.html">SampleEventData</a></span></code></pre></div>
<p>Now that you have your data set, let us see which columns we require
for our function:</p>
<ul>
<li><code>x</code></li>
<li><code>y</code></li>
<li><code>finalX</code></li>
<li><code>finalY</code></li>
<li><code>minute</code></li>
<li>
<code>playerId</code> (Player name’s)</li>
<li>
<code>teamId</code> (Team name’s)</li>
<li>
<code>outcome</code> (Outcome of the pass)</li>
<li>
<code>type</code> (Type of event)</li>
</ul>
<p>Note that the <em>playerId</em> and <em>teamId</em> columns need to
contain player and team <strong>names</strong>. The data set in our
hands only contains their relevant Id’s. Let us fix that and transform
the data set into one that will be accepted by our function.</p>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">optadata</span> <span class="op">&lt;-</span> <span class="va">optadata</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>teamId <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/case_when.html" class="external-link">case_when</a></span><span class="op">(</span><span class="va">teamId</span> <span class="op">==</span> <span class="fl">2151</span> <span class="op">~</span> <span class="st">"Team 1"</span>,
                            <span class="va">teamId</span> <span class="op">==</span> <span class="fl">3070</span> <span class="op">~</span> <span class="st">"Team 2"</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>playerId <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/case_when.html" class="external-link">case_when</a></span><span class="op">(</span><span class="va">playerId</span> <span class="op">==</span> <span class="st">"1"</span> <span class="op">~</span> <span class="st">"Cameron"</span>,
                              <span class="va">playerId</span> <span class="op">==</span> <span class="st">"2"</span> <span class="op">~</span> <span class="st">"Sahaj"</span>,
                              <span class="va">playerId</span> <span class="op">==</span> <span class="st">"3"</span> <span class="op">~</span> <span class="st">"Trevor"</span>,
                              <span class="va">playerId</span> <span class="op">==</span> <span class="st">"4"</span> <span class="op">~</span> <span class="st">"Jolene"</span>,
                              <span class="va">playerId</span> <span class="op">==</span> <span class="st">"5"</span> <span class="op">~</span> <span class="st">"David"</span>,
                              <span class="va">playerId</span> <span class="op">==</span> <span class="st">"6"</span> <span class="op">~</span> <span class="st">"Marcus"</span>,
                              <span class="va">playerId</span> <span class="op">==</span> <span class="st">"7"</span> <span class="op">~</span> <span class="st">"Ryo"</span>,
                              <span class="va">playerId</span> <span class="op">==</span> <span class="st">"8"</span> <span class="op">~</span> <span class="st">"Anthony"</span>,
                              <span class="va">playerId</span> <span class="op">==</span> <span class="st">"9"</span> <span class="op">~</span> <span class="st">"Aabid"</span>,
                              <span class="va">playerId</span> <span class="op">==</span> <span class="st">"10"</span> <span class="op">~</span> <span class="st">"Kylian"</span>,
                              <span class="va">playerId</span> <span class="op">==</span> <span class="st">"11"</span> <span class="op">~</span> <span class="st">"Harry"</span>,
                              <span class="va">playerId</span> <span class="op">==</span> <span class="st">"12"</span> <span class="op">~</span> <span class="st">"Victor"</span>,
                              <span class="va">playerId</span> <span class="op">==</span> <span class="st">"13"</span> <span class="op">~</span> <span class="st">"Jesse"</span>,
                              <span class="va">playerId</span> <span class="op">==</span> <span class="st">"14"</span> <span class="op">~</span> <span class="st">"Borges"</span>,
                              <span class="va">playerId</span> <span class="op">==</span> <span class="st">"15"</span> <span class="op">~</span> <span class="st">"Miguel"</span>,
                              <span class="va">playerId</span> <span class="op">==</span> <span class="st">"16"</span> <span class="op">~</span> <span class="st">"Alex"</span>,
                              <span class="va">playerId</span> <span class="op">==</span> <span class="st">"17"</span> <span class="op">~</span> <span class="st">"Abdul"</span>,
                              <span class="va">playerId</span> <span class="op">==</span> <span class="st">"18"</span> <span class="op">~</span> <span class="st">"Eric"</span>,
                              <span class="va">playerId</span> <span class="op">==</span> <span class="st">"19"</span> <span class="op">~</span> <span class="st">"Marten"</span>,
                              <span class="va">playerId</span> <span class="op">==</span> <span class="st">"20"</span> <span class="op">~</span> <span class="st">"Robert"</span>,
                              <span class="va">playerId</span> <span class="op">==</span> <span class="st">"21"</span> <span class="op">~</span> <span class="st">"Lionel"</span>,
                              <span class="va">playerId</span> <span class="op">==</span> <span class="st">"22"</span> <span class="op">~</span> <span class="st">"Dean"</span>,
                              <span class="va">playerId</span> <span class="op">==</span> <span class="st">"23"</span> <span class="op">~</span> <span class="st">"Aaron"</span>,
                              <span class="va">playerId</span> <span class="op">==</span> <span class="st">"24"</span> <span class="op">~</span> <span class="st">"Benjamin"</span>,
                              <span class="va">playerId</span> <span class="op">==</span> <span class="st">"25"</span> <span class="op">~</span> <span class="st">"Diego"</span>,
                              <span class="va">playerId</span> <span class="op">==</span> <span class="st">"26"</span> <span class="op">~</span> <span class="st">"Abhishek"</span>,
                              <span class="va">playerId</span> <span class="op">==</span> <span class="st">"27"</span> <span class="op">~</span> <span class="st">"Samuel"</span>,
                              <span class="va">playerId</span> <span class="op">==</span> <span class="st">"28"</span> <span class="op">~</span> <span class="st">"Edward"</span>,
                              <span class="va">playerId</span> <span class="op">==</span> <span class="st">"29"</span> <span class="op">~</span> <span class="st">"Malik"</span>,
                              <span class="va">playerId</span> <span class="op">==</span> <span class="st">"30"</span> <span class="op">~</span> <span class="st">"Albert"</span>,
                              <span class="va">playerId</span> <span class="op">==</span> <span class="st">"31"</span> <span class="op">~</span> <span class="st">"Paul"</span>,
                              <span class="va">playerId</span> <span class="op">==</span> <span class="st">"32"</span> <span class="op">~</span> <span class="st">"Smith"</span>,
                              <span class="va">playerId</span> <span class="op">==</span> <span class="st">"33"</span> <span class="op">~</span> <span class="st">"Seth"</span>,
                              <span class="va">playerId</span> <span class="op">==</span> <span class="st">"34"</span> <span class="op">~</span> <span class="st">"Mohammed"</span>,
                              <span class="va">playerId</span> <span class="op">==</span> <span class="st">"35"</span> <span class="op">~</span> <span class="st">"Eder"</span>,
                              <span class="va">playerId</span> <span class="op">==</span> <span class="st">"36"</span> <span class="op">~</span> <span class="st">"Adam"</span>,
                              <span class="va">playerId</span> <span class="op">==</span> <span class="st">"37"</span> <span class="op">~</span> <span class="st">"Harsh"</span>,
                              <span class="va">playerId</span> <span class="op">==</span> <span class="st">"38"</span> <span class="op">~</span> <span class="st">"Jorge"</span>,
                              <span class="va">playerId</span> <span class="op">==</span> <span class="st">"39"</span> <span class="op">~</span> <span class="st">"Zak"</span>,
                              <span class="va">playerId</span> <span class="op">==</span> <span class="st">"40"</span> <span class="op">~</span> <span class="st">"Brandon"</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<p>Here we have used the <code><a href="https://dplyr.tidyverse.org/reference/case_when.html" class="external-link">case_when()</a></code> function to link the
player and team Id’s to the relevant names. There is still some work
left to do.</p>
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">optadata</span> <span class="op">&lt;-</span> <span class="va">optadata</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/rename.html" class="external-link">rename</a></span><span class="op">(</span>finalX <span class="op">=</span> <span class="va">endX</span>,
         finalY <span class="op">=</span> <span class="va">endY</span><span class="op">)</span></code></pre></div>
<p>We have cleaned up our data set. It is now ready to be used in the
function.</p>
<p><strong>It is important to note that these steps might not be
necessary for all data sets. This is only to make sure that we are
following the correct format for the function. A data set with these
exact column names and column type specifications will work within the
function without any errors.</strong></p>
<p>Let us now plot.</p>
<div class="sourceCode" id="cb22"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">passnetPlot</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/plot_passnet.html">plot_passnet</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">optadata</span>, data_type <span class="op">=</span> <span class="st">"opta"</span>, 
                            team_name <span class="op">=</span> <span class="st">"Team 1"</span>, scale_stat <span class="op">=</span> <span class="st">"EPV"</span>, 
                            scale_color <span class="op">=</span> <span class="st">"#fec44f"</span><span class="op">)</span>

<span class="va">passnetPlot</span></code></pre></div>
<div class="figure">
<img src="../reference/figures/Opta_Passnet.png" style="width:80.0%" alt=""><p class="caption">plot_passnet() using opta data</p>
</div>
</div>
</div>
</div>
<div class="section level2">
<h2 id="contributors">Contributors<a class="anchor" aria-label="anchor" href="#contributors"></a>
</h2>
<p>There are a few people to credit with helping in the creation of the
pitch plot functions.</p>
<p>The design for <code><a href="../reference/plot_sonar.html">plot_sonar()</a></code> is inspired by the pass
compass plot designed by <a href="https://twitter.com/barcanumbers" class="external-link">e.</a> Part of the sonar
production code is also credited to <a href="https://twitter.com/etmckinley" class="external-link">Eliot McKinley</a>.</p>
<p>Credit to <a href="https://twitter.com/joedgallagher" class="external-link">Joe
Gallagher</a> and his excellent package <a href="https://github.com/JoGall/soccermatics" class="external-link">soccermatics</a> for the
code used for data wrangling in the <code><a href="../reference/plot_passnet.html">plot_passnet()</a></code>
function.</p>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Abhishek Amol Mishra, Harsh Krishna, Ryo Nakagawara.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.4.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
